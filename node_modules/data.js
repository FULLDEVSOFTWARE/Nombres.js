document.addEventListener('DOMContentLoaded', function () {
  const formulario = document.getElementById('miFormulario');
  const resultado = document.getElementById('resultado');

  // Cargar registros guardados
  mostrarRegistros();

  formulario.addEventListener('submit', function (e) {
    e.preventDefault();

    const nombre = document.getElementById('nombre').value;
    const correo = document.getElementById('correo').value;
    const id = document.getElementById('id').value;

    // Obtener registros previos
    let registros = JSON.parse(localStorage.getItem('registros')) || [];

    // Agregar el nuevo registro
    registros.push({ nombre, correo, id });

    // Guardar en localStorage
    localStorage.setItem('registros', JSON.stringify(registros));

    // Mostrar registros actualizados
    mostrarRegistros();

    // Limpiar formulario
    formulario.reset();
  });

  function mostrarRegistros() {
    let registros = JSON.parse(localStorage.getItem('registros')) || [];
    resultado.innerHTML = "<h3>Registros guardados:</h3>";

    registros.forEach((registro, index) => {
      resultado.innerHTML += `
        <p><strong>Registro ${index + 1}</strong><br>
        Nombre: ${registro.nombre}<br>
        Correo: ${registro.correo}<br>
        ID: ${registro.id}</p>
        <hr>
      `;
    });
  }
});
